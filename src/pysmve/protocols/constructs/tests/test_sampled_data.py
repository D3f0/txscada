from unittest import TestCase
from ..structs import MaraFrame, any2buffer


class SampledDataTestCase(TestCase):
    FRAMES = [
        """
            FE 44 40 01 4A 10 19 00 00 90 1D 01 00 00 00 00 00 80 80 00 00 80 80 00 00 80 80 00
            00 80 80 0F 00 00 43 00 00 00 00 04 00 04 00 04 00 04 13 48 05 51 00 51 00 51 00 51
            00 51 00 51 00 51 00 51 00 01 E1 29
        """,


        """
            FE 44 40 01 4C 10 19 00 00 85 1D 01 00 00 00 00 00 00 01 00 00 00 01 00 00 00 01 00 00 00 01 0F
            00 00 43 00 00 00 00 04 00 04 00 04 00 04 13 4C 05 51 00 51 00 51 00 51 00 51 00 51 00 51 00 51
            00 01 DD 30
        """,

        """
            FE F8 40 01 4D 10 19 00 00 8D 1D 01 00 00 00 00 00 00 01 00 00 00 01 00 00 00 01 00 00 00 01 0F
            00 00 43 00 00 00 00 04 00 04 00 04 00 04 13 81 09 51 00 51 00 51 00 51 00 51 00 51 00 51 00 51
            00 B5 01 93 0C 01 01 01 08 22 00 14 01 E3 0C 01 01 01 08 22 00 14 01 05 0C 01 01 01 08 22 00 14
            01 92 0C 01 01 01 08 22 00 18 01 E2 0C 01 01 01 08 22 00 18 01 04 0C 01 01 01 08 22 00 18 01 F1
            0C 01 01 01 08 22 00 1C 01 93 0C 01 01 01 08 22 00 1C 01 F3 0C 01 01 01 08 22 00 1C 01 05 0C 01
            01 01 08 22 00 1C 01 F2 0C 01 01 01 08 22 00 20 01 04 0C 01 01 01 08 22 00 20 01 F0 0C 01 01 01
            08 22 00 24 01 92 0C 01 01 01 08 22 00 24 01 15 0C 01 01 01 08 22 00 60 01 14 0C 01 01 01 08 22
            00 7C 01 F3 0C 01 01 01 08 23 00 00 01 15 0C 01 01 01 08 23 00 00 3C 91
        """,


        """
            FE E4 40 01 F1 10 19 00 00 86 1D 01 00 00 00 00 EF 00 03 00 00 00 04 00 00 80 80 00 00 80 80 0F
            00 00 43 00 00 00 40 F6 40 F6 00 F4 00 3A 13 7F 09 00 40 00 40 00 40 00 40 00 40 00 40 00 40 00
            40 A1 45 00 0C 08 03 0F 00 00 00 00 45 01 0C 08 03 0F 00 00 00 00
            42 00 0C 08 03 0F 00 00 00 00
            42 01 0C 08 03 0F 00 00 00 00
            43 00 0C 08 03 0F 00 00 00 00
            43 01 0C 08 03 0F 00 00 00 00
            44 00 0C 08 03 0F 00 00 00 00
            44 01 0C 08 03 0F 00 00 00 00
            43 00 0C 08 03 0F 0F 00 00 00
            43 01 0C 08 03 0F 0F 00 00 00
            44 00 0C 08 03 0F 0F 00 00 00
            44 01 0C 08 03 0F 0F 00 00 00
            45 00 0C 08 03 0F 0F 00 00 00
            45 01 0C 08 03 0F 0F 00 00 00
            42 00 0C 08 03 0F 0F 00 00 00
            42 01 0C 08 03 0F 0F 00 00 00
            1D C2
        """,

        """
            FE 58 40 01 20 10 19 00 00 8D 1D 01 00 00 00 00 EF 00 04 00 00 00 04 00 00 80 80 00 00 80 80 0F 00 00
            43 00 00 00 40 F6 00 F6 40 F6 40 B6 13 83 09 00 40 00 40 00 40 00 40 00 40 00 40 24 00 1E 00 15 42 00
            0C 08 03 0E 2D 00 06 00 42 01 0C 08 03 0E 2D 00 06 00 C7 5A
        """,

        """
            FE 58 40 01 21 10 19 00 00 8D 1D 01 00 00 00 00 EF 00 04 00 00 00 04 00 00 80 80 00 00 80 80 0F 00 00
            43 00 00 00 40 F6 40 F6 40 F6 40 B6 13 83 09 00 40 00 40 00 40 00 40 00 40 00 40 24 00 1E 00 15 43 00
            0C 08 03 0E 2D 00 00 00 43 01 0C 08 03 0E 2D 00 00 00 90 5A
        """,

        """
            FE 58 40 01 22 10 19 00 00 8D 1D 01 00 00 00 00 EF 00 04 00 00 00 04 00 00 80 80 00 00 80 80 0F 00 00
            43 00 00 00 40 F6 40 F6 00 F4 40 B6 13 83 09 00 40 00 40 00 40 00 40 00 40 00 40 24 00 1E 00 15 44 00
            0C 08 03 0E 2D 00 0E 00 44 01 0C 08 03 0E 2D 00 0C 00 B3 5C
        """,


        """
            FE 58 40 01 23 10 19 00 00 8D 1D 01 00 00 00 00 EF 00 04 00 00 00 04 00 00 80 80 00 00 80 80 0F 00 00
            43 00 00 00 40 F6 40 F6 00 F4 00 3E 13 83 09 00 40 00 40 00 40 00 40 00 40 00 40 00 40 1E 00 15 45 00
            0C 08 03 0E 2D 00 0F 00 45 01 0C 08 03 0E 2D 00 0F 00 AC F8
        """,

    ]

    def test_sampled_data(self):
        import sys
        from pprint import pformat
        for n, sample in enumerate(self.FRAMES):
            parsed = MaraFrame.parse(any2buffer(sample))
            sys.stderr.write(pformat(parsed) + '\n')
            #if n == 2:
            #    assert False
